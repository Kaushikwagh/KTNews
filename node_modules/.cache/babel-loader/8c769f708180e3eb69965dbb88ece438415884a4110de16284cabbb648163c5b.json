{"ast":null,"code":"import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default class News extends Component{constructor(props){super(props);this.CapitalizeFirstLetter=string=>{return string.charAt(0).toUpperCase()+string.slice(1);};// fetchNews = async () => {\n//   this.setState({ loading: true });\n//   const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`;\n//   const parsedData = await data.json();\n//   console.log(parsedData);\n//   this.setState({\n//     articles: parsedData.articles || [], \n//     loading: false,\n//     totalResults: parsedData.totalResults\n//   });\n// }\nthis.fetchNews=async()=>{this.setState({loading:true});const url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=\").concat(this.props.apiKey,\"&page=1&pageSize=\").concat(this.props.pageSize);const data=await fetch(url);const parsedData=await data.json();console.log(parsedData);this.setState({articles:parsedData.articles||[],loading:false,totalResults:parsedData.totalResults});};this.HandlePrevClick=async()=>{if(this.state.page>1){this.setState({loading:true});const url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=\").concat(this.props.apiKey,\"&page=\").concat(this.state.page-1,\"&pageSize=\").concat(this.props.pageSize);const data=await fetch(url);const parsedData=await data.json();console.log(parsedData);this.setState({page:this.state.page-1,articles:parsedData.articles||[],loading:false});}};this.HandleNextClick=async()=>{if(this.state.page+1<=Math.ceil(this.state.totalResults/this.props.pageSize)){this.setState({loading:true});const url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=\").concat(this.props.apiKey,\"&page=\").concat(this.state.page+1,\"&pageSize=\").concat(this.props.pageSize);const data=await fetch(url);const parsedData=await data.json();console.log(parsedData);this.setState({page:this.state.page+1,articles:parsedData.articles||[],loading:false});}};this.state={articles:[],loading:false,page:1,totalResults:0};document.title=\"\".concat(this.CapitalizeFirstLetter(this.props.category),\" - News\");}async componentDidMount(){await this.fetchNews();}async componentDidUpdate(prevProps){if(prevProps.category!==this.props.category||prevProps.country!==this.props.country){await this.fetchNews();}}render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center\",style:{margin:'35px 0px',marginTop:'90px'},children:[\"News - Top \",this.CapitalizeFirstLetter(this.props.category),\" Headlines\"]}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.articles.map((article,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:article.title?article.title:\"\",description:article.description?article.description.slice(0,88):\"\",imageUrl:article.urlToImage,newsUrl:article.url,author:article.author,date:article.publishedAt,source:article.source.name})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,type:\"button\",className:\"btn btn-dark\",onClick:this.HandlePrevClick,children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),type:\"button\",className:\"btn btn-dark\",onClick:this.HandleNextClick,children:\" Next \\u2192\"})]})]});}}News.defaultProps={name:'in',pageSize:8,category:'general'};","map":{"version":3,"names":["React","Component","NewsItem","Spinner","jsxs","_jsxs","jsx","_jsx","News","constructor","props","CapitalizeFirstLetter","string","charAt","toUpperCase","slice","fetchNews","setState","loading","url","concat","country","category","apiKey","pageSize","data","fetch","parsedData","json","console","log","articles","totalResults","HandlePrevClick","state","page","HandleNextClick","Math","ceil","document","title","componentDidMount","componentDidUpdate","prevProps","render","className","children","style","margin","marginTop","map","article","index","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","disabled","type","onClick","defaultProps"],"sources":["/Users/kaushikwagh/Downloads/VS Code/Code/REACT JS/LEC-D PROJECT2/newsapp/src/components/News.js"],"sourcesContent":["import React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\n\nexport default class News extends Component {\n  static defaultProps = {\n    name: 'in',\n    pageSize: 8,\n    category: 'general',\n  }\n\n  static propTypes = {\n    country: PropTypes.string,\n    pageSize: PropTypes.number,\n    category: PropTypes.string,\n    apiKey: PropTypes.string.isRequired\n  }\n\n  CapitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1,\n      totalResults: 0\n    };\n    document.title = `${this.CapitalizeFirstLetter(this.props.category)} - News`;\n  }\n  \n  async componentDidMount() {\n    await this.fetchNews();\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (prevProps.category !== this.props.category || prevProps.country !== this.props.country) {\n      await this.fetchNews();\n    }\n  }\n\n  // fetchNews = async () => {\n  //   this.setState({ loading: true });\n  //   const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`;\n  //   const parsedData = await data.json();\n  //   console.log(parsedData);\n  //   this.setState({\n  //     articles: parsedData.articles || [], \n  //     loading: false,\n  //     totalResults: parsedData.totalResults\n  //   });\n  // }\n\n  fetchNews = async () => {\n    this.setState({ loading: true });\n    const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`;\n    const data = await fetch(url);\n    const parsedData = await data.json();\n    console.log(parsedData);\n    this.setState({\n      articles: parsedData.articles || [], \n      loading: false,\n      totalResults: parsedData.totalResults\n    });\n  }\n\n  HandlePrevClick = async () => {\n    if (this.state.page > 1) {\n      this.setState({ loading: true });\n      const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n      const data = await fetch(url);\n      const parsedData = await data.json();\n      console.log(parsedData);\n      this.setState({\n        page: this.state.page - 1,\n        articles: parsedData.articles || [],\n        loading: false\n      });\n    }\n  }\n\n  HandleNextClick = async () => {\n    if (this.state.page + 1 <= Math.ceil(this.state.totalResults / this.props.pageSize)) {\n      this.setState({ loading: true });\n      const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n      const data = await fetch(url);\n      const parsedData = await data.json();\n      console.log(parsedData);\n      this.setState({\n        page: this.state.page + 1,\n        articles: parsedData.articles || [],\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container my-3\">\n        <h2 className='text-center' style={{ margin: '35px 0px', marginTop: '90px' }}>News - Top {this.CapitalizeFirstLetter(this.props.category)} Headlines</h2>\n        {this.state.loading && <Spinner />}\n        <div className=\"row\">\n          {this.state.articles.map((article, index) => (\n            <div className=\"col-md-4\" key={index}>\n              <NewsItem\n                title={article.title ? article.title : \"\"}\n                description={article.description ? article.description.slice(0, 88) : \"\"}\n                imageUrl={article.urlToImage}\n                newsUrl={article.url}\n                author={article.author}\n                date={article.publishedAt}\n                source={article.source.name}\n              />\n            </div>\n          ))}\n        </div>\n        <div className=\"container d-flex justify-content-between\">\n          <button disabled={this.state.page <= 1} type=\"button\" className=\"btn btn-dark\" onClick={this.HandlePrevClick}>&larr; Previous</button>\n          <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.HandleNextClick}> Next &rarr;</button>\n        </div>\n      </div>\n    );\n  }\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAGhC,cAAe,MAAM,CAAAC,IAAI,QAAS,CAAAP,SAAU,CAkB1CQ,WAAWA,CAACC,KAAK,CAAE,CACjB,KAAK,CAACA,KAAK,CAAC,CAAC,KALfC,qBAAqB,CAAIC,MAAM,EAAK,CAClC,MAAO,CAAAA,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGF,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC,CACzD,CAAC,CAuBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,KAEAC,SAAS,CAAG,SAAY,CACtB,IAAI,CAACC,QAAQ,CAAC,CAAEC,OAAO,CAAE,IAAK,CAAC,CAAC,CAChC,KAAM,CAAAC,GAAG,iDAAAC,MAAA,CAAmD,IAAI,CAACV,KAAK,CAACW,OAAO,eAAAD,MAAA,CAAa,IAAI,CAACV,KAAK,CAACY,QAAQ,aAAAF,MAAA,CAAW,IAAI,CAACV,KAAK,CAACa,MAAM,sBAAAH,MAAA,CAAoB,IAAI,CAACV,KAAK,CAACc,QAAQ,CAAE,CACnL,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAC,KAAK,CAACP,GAAG,CAAC,CAC7B,KAAM,CAAAQ,UAAU,CAAG,KAAM,CAAAF,IAAI,CAACG,IAAI,CAAC,CAAC,CACpCC,OAAO,CAACC,GAAG,CAACH,UAAU,CAAC,CACvB,IAAI,CAACV,QAAQ,CAAC,CACZc,QAAQ,CAAEJ,UAAU,CAACI,QAAQ,EAAI,EAAE,CACnCb,OAAO,CAAE,KAAK,CACdc,YAAY,CAAEL,UAAU,CAACK,YAC3B,CAAC,CAAC,CACJ,CAAC,MAEDC,eAAe,CAAG,SAAY,CAC5B,GAAI,IAAI,CAACC,KAAK,CAACC,IAAI,CAAG,CAAC,CAAE,CACvB,IAAI,CAAClB,QAAQ,CAAC,CAAEC,OAAO,CAAE,IAAK,CAAC,CAAC,CAChC,KAAM,CAAAC,GAAG,iDAAAC,MAAA,CAAmD,IAAI,CAACV,KAAK,CAACW,OAAO,eAAAD,MAAA,CAAa,IAAI,CAACV,KAAK,CAACY,QAAQ,aAAAF,MAAA,CAAW,IAAI,CAACV,KAAK,CAACa,MAAM,WAAAH,MAAA,CAAS,IAAI,CAACc,KAAK,CAACC,IAAI,CAAG,CAAC,eAAAf,MAAA,CAAa,IAAI,CAACV,KAAK,CAACc,QAAQ,CAAE,CACxM,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAC,KAAK,CAACP,GAAG,CAAC,CAC7B,KAAM,CAAAQ,UAAU,CAAG,KAAM,CAAAF,IAAI,CAACG,IAAI,CAAC,CAAC,CACpCC,OAAO,CAACC,GAAG,CAACH,UAAU,CAAC,CACvB,IAAI,CAACV,QAAQ,CAAC,CACZkB,IAAI,CAAE,IAAI,CAACD,KAAK,CAACC,IAAI,CAAG,CAAC,CACzBJ,QAAQ,CAAEJ,UAAU,CAACI,QAAQ,EAAI,EAAE,CACnCb,OAAO,CAAE,KACX,CAAC,CAAC,CACJ,CACF,CAAC,MAEDkB,eAAe,CAAG,SAAY,CAC5B,GAAI,IAAI,CAACF,KAAK,CAACC,IAAI,CAAG,CAAC,EAAIE,IAAI,CAACC,IAAI,CAAC,IAAI,CAACJ,KAAK,CAACF,YAAY,CAAG,IAAI,CAACtB,KAAK,CAACc,QAAQ,CAAC,CAAE,CACnF,IAAI,CAACP,QAAQ,CAAC,CAAEC,OAAO,CAAE,IAAK,CAAC,CAAC,CAChC,KAAM,CAAAC,GAAG,iDAAAC,MAAA,CAAmD,IAAI,CAACV,KAAK,CAACW,OAAO,eAAAD,MAAA,CAAa,IAAI,CAACV,KAAK,CAACY,QAAQ,aAAAF,MAAA,CAAW,IAAI,CAACV,KAAK,CAACa,MAAM,WAAAH,MAAA,CAAS,IAAI,CAACc,KAAK,CAACC,IAAI,CAAG,CAAC,eAAAf,MAAA,CAAa,IAAI,CAACV,KAAK,CAACc,QAAQ,CAAE,CACxM,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAC,KAAK,CAACP,GAAG,CAAC,CAC7B,KAAM,CAAAQ,UAAU,CAAG,KAAM,CAAAF,IAAI,CAACG,IAAI,CAAC,CAAC,CACpCC,OAAO,CAACC,GAAG,CAACH,UAAU,CAAC,CACvB,IAAI,CAACV,QAAQ,CAAC,CACZkB,IAAI,CAAE,IAAI,CAACD,KAAK,CAACC,IAAI,CAAG,CAAC,CACzBJ,QAAQ,CAAEJ,UAAU,CAACI,QAAQ,EAAI,EAAE,CACnCb,OAAO,CAAE,KACX,CAAC,CAAC,CACJ,CACF,CAAC,CAxEC,IAAI,CAACgB,KAAK,CAAG,CACXH,QAAQ,CAAE,EAAE,CACZb,OAAO,CAAE,KAAK,CACdiB,IAAI,CAAE,CAAC,CACPH,YAAY,CAAE,CAChB,CAAC,CACDO,QAAQ,CAACC,KAAK,IAAApB,MAAA,CAAM,IAAI,CAACT,qBAAqB,CAAC,IAAI,CAACD,KAAK,CAACY,QAAQ,CAAC,WAAS,CAC9E,CAEA,KAAM,CAAAmB,iBAAiBA,CAAA,CAAG,CACxB,KAAM,KAAI,CAACzB,SAAS,CAAC,CAAC,CACxB,CAEA,KAAM,CAAA0B,kBAAkBA,CAACC,SAAS,CAAE,CAClC,GAAIA,SAAS,CAACrB,QAAQ,GAAK,IAAI,CAACZ,KAAK,CAACY,QAAQ,EAAIqB,SAAS,CAACtB,OAAO,GAAK,IAAI,CAACX,KAAK,CAACW,OAAO,CAAE,CAC1F,KAAM,KAAI,CAACL,SAAS,CAAC,CAAC,CACxB,CACF,CAyDA4B,MAAMA,CAAA,CAAG,CACP,mBACEvC,KAAA,QAAKwC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzC,KAAA,OAAIwC,SAAS,CAAC,aAAa,CAACE,KAAK,CAAE,CAAEC,MAAM,CAAE,UAAU,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAH,QAAA,EAAC,aAAW,CAAC,IAAI,CAACnC,qBAAqB,CAAC,IAAI,CAACD,KAAK,CAACY,QAAQ,CAAC,CAAC,YAAU,EAAI,CAAC,CACxJ,IAAI,CAACY,KAAK,CAAChB,OAAO,eAAIX,IAAA,CAACJ,OAAO,GAAE,CAAC,cAClCI,IAAA,QAAKsC,SAAS,CAAC,KAAK,CAAAC,QAAA,CACjB,IAAI,CAACZ,KAAK,CAACH,QAAQ,CAACmB,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBACtC7C,IAAA,QAAKsC,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBvC,IAAA,CAACL,QAAQ,EACPsC,KAAK,CAAEW,OAAO,CAACX,KAAK,CAAGW,OAAO,CAACX,KAAK,CAAG,EAAG,CAC1Ca,WAAW,CAAEF,OAAO,CAACE,WAAW,CAAGF,OAAO,CAACE,WAAW,CAACtC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,EAAG,CACzEuC,QAAQ,CAAEH,OAAO,CAACI,UAAW,CAC7BC,OAAO,CAAEL,OAAO,CAAChC,GAAI,CACrBsC,MAAM,CAAEN,OAAO,CAACM,MAAO,CACvBC,IAAI,CAAEP,OAAO,CAACQ,WAAY,CAC1BC,MAAM,CAAET,OAAO,CAACS,MAAM,CAACC,IAAK,CAC7B,CAAC,EAT2BT,KAU1B,CACN,CAAC,CACC,CAAC,cACN/C,KAAA,QAAKwC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvDvC,IAAA,WAAQuD,QAAQ,CAAE,IAAI,CAAC5B,KAAK,CAACC,IAAI,EAAI,CAAE,CAAC4B,IAAI,CAAC,QAAQ,CAAClB,SAAS,CAAC,cAAc,CAACmB,OAAO,CAAE,IAAI,CAAC/B,eAAgB,CAAAa,QAAA,CAAC,iBAAe,CAAQ,CAAC,cACtIvC,IAAA,WAAQuD,QAAQ,CAAE,IAAI,CAAC5B,KAAK,CAACC,IAAI,CAAG,CAAC,CAAGE,IAAI,CAACC,IAAI,CAAC,IAAI,CAACJ,KAAK,CAACF,YAAY,CAAG,IAAI,CAACtB,KAAK,CAACc,QAAQ,CAAE,CAACuC,IAAI,CAAC,QAAQ,CAAClB,SAAS,CAAC,cAAc,CAACmB,OAAO,CAAE,IAAI,CAAC5B,eAAgB,CAAAU,QAAA,CAAC,cAAY,CAAQ,CAAC,EAC1L,CAAC,EACH,CAAC,CAEV,CACF,CAzHqBtC,IAAI,CAChByD,YAAY,CAAG,CACpBJ,IAAI,CAAE,IAAI,CACVrC,QAAQ,CAAE,CAAC,CACXF,QAAQ,CAAE,SACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}