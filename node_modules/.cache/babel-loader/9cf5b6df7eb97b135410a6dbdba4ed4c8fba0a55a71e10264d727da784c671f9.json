{"ast":null,"code":"var _jsxFileName = \"/Users/kaushikwagh/Downloads/VS Code/Code/REACT JS/LEC-D PROJECT2/newsapp/src/components/News.js\";\nimport React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class News extends Component {\n  constructor(props) {\n    super(props);\n    this.CapitalizeFirstLetter = string => {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    };\n    // fetchNews = async () => {\n    //   this.setState({ loading: true });\n    //   const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`;\n    //   const parsedData = await data.json();\n    //   console.log(parsedData);\n    //   this.setState({\n    //     articles: parsedData.articles || [], \n    //     loading: false,\n    //     totalResults: parsedData.totalResults\n    //   });\n    // }\n    this.fetchNews = async () => {\n      this.setState({\n        loading: true\n      });\n      const url = `https://newapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`;\n      const data = await fetch(url);\n      const parsedData = await data.json();\n      console.log(parsedData);\n      this.setState({\n        articles: parsedData.articles || [],\n        loading: false,\n        totalResults: parsedData.totalResults\n      });\n    };\n    this.HandlePrevClick = async () => {\n      if (this.state.page > 1) {\n        this.setState({\n          loading: true\n        });\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n        const data = await fetch(url);\n        const parsedData = await data.json();\n        console.log(parsedData);\n        this.setState({\n          page: this.state.page - 1,\n          articles: parsedData.articles || [],\n          loading: false\n        });\n      }\n    };\n    this.HandleNextClick = async () => {\n      if (this.state.page + 1 <= Math.ceil(this.state.totalResults / this.props.pageSize)) {\n        this.setState({\n          loading: true\n        });\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n        const data = await fetch(url);\n        const parsedData = await data.json();\n        console.log(parsedData);\n        this.setState({\n          page: this.state.page + 1,\n          articles: parsedData.articles || [],\n          loading: false\n        });\n      }\n    };\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1,\n      totalResults: 0\n    };\n    document.title = `${this.CapitalizeFirstLetter(this.props.category)} - News`;\n  }\n  async componentDidMount() {\n    await this.fetchNews();\n  }\n  async componentDidUpdate(prevProps) {\n    if (prevProps.category !== this.props.category || prevProps.country !== this.props.country) {\n      await this.fetchNews();\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        style: {\n          margin: '35px 0px',\n          marginTop: '90px'\n        },\n        children: [\"News - Top \", this.CapitalizeFirstLetter(this.props.category), \" Headlines\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: this.state.articles.map((article, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(NewsItem, {\n            title: article.title ? article.title : \"\",\n            description: article.description ? article.description.slice(0, 88) : \"\",\n            imageUrl: article.urlToImage,\n            newsUrl: article.url,\n            author: article.author,\n            date: article.publishedAt,\n            source: article.source.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page <= 1,\n          type: \"button\",\n          className: \"btn btn-dark\",\n          onClick: this.HandlePrevClick,\n          children: \"\\u2190 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize),\n          type: \"button\",\n          className: \"btn btn-dark\",\n          onClick: this.HandleNextClick,\n          children: \" Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  }\n}\nNews.defaultProps = {\n  name: 'in',\n  pageSize: 8,\n  category: 'general'\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string,\n  apiKey: PropTypes.string.isRequired\n};","map":{"version":3,"names":["React","Component","NewsItem","Spinner","PropTypes","jsxDEV","_jsxDEV","News","constructor","props","CapitalizeFirstLetter","string","charAt","toUpperCase","slice","fetchNews","setState","loading","url","country","category","apiKey","pageSize","data","fetch","parsedData","json","console","log","articles","totalResults","HandlePrevClick","state","page","HandleNextClick","Math","ceil","document","title","componentDidMount","componentDidUpdate","prevProps","render","className","children","style","margin","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","map","article","index","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","disabled","type","onClick","defaultProps","propTypes","number","isRequired"],"sources":["/Users/kaushikwagh/Downloads/VS Code/Code/REACT JS/LEC-D PROJECT2/newsapp/src/components/News.js"],"sourcesContent":["import React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\n\nexport default class News extends Component {\n  static defaultProps = {\n    name: 'in',\n    pageSize: 8,\n    category: 'general',\n  }\n\n  static propTypes = {\n    country: PropTypes.string,\n    pageSize: PropTypes.number,\n    category: PropTypes.string,\n    apiKey: PropTypes.string.isRequired\n  }\n\n  CapitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1,\n      totalResults: 0\n    };\n    document.title = `${this.CapitalizeFirstLetter(this.props.category)} - News`;\n  }\n  \n  async componentDidMount() {\n    await this.fetchNews();\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (prevProps.category !== this.props.category || prevProps.country !== this.props.country) {\n      await this.fetchNews();\n    }\n  }\n\n  // fetchNews = async () => {\n  //   this.setState({ loading: true });\n  //   const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`;\n  //   const parsedData = await data.json();\n  //   console.log(parsedData);\n  //   this.setState({\n  //     articles: parsedData.articles || [], \n  //     loading: false,\n  //     totalResults: parsedData.totalResults\n  //   });\n  // }\n\n  fetchNews = async () => {\n    this.setState({ loading: true });\n    const url = `https://newapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`;\n    const data = await fetch(url);\n    const parsedData = await data.json();\n    console.log(parsedData);\n    this.setState({\n      articles: parsedData.articles || [], \n      loading: false,\n      totalResults: parsedData.totalResults\n    });\n  }\n\n  HandlePrevClick = async () => {\n    if (this.state.page > 1) {\n      this.setState({ loading: true });\n      const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n      const data = await fetch(url);\n      const parsedData = await data.json();\n      console.log(parsedData);\n      this.setState({\n        page: this.state.page - 1,\n        articles: parsedData.articles || [],\n        loading: false\n      });\n    }\n  }\n\n  HandleNextClick = async () => {\n    if (this.state.page + 1 <= Math.ceil(this.state.totalResults / this.props.pageSize)) {\n      this.setState({ loading: true });\n      const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n      const data = await fetch(url);\n      const parsedData = await data.json();\n      console.log(parsedData);\n      this.setState({\n        page: this.state.page + 1,\n        articles: parsedData.articles || [],\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container my-3\">\n        <h2 className='text-center' style={{ margin: '35px 0px', marginTop: '90px' }}>News - Top {this.CapitalizeFirstLetter(this.props.category)} Headlines</h2>\n        {this.state.loading && <Spinner />}\n        <div className=\"row\">\n          {this.state.articles.map((article, index) => (\n            <div className=\"col-md-4\" key={index}>\n              <NewsItem\n                title={article.title ? article.title : \"\"}\n                description={article.description ? article.description.slice(0, 88) : \"\"}\n                imageUrl={article.urlToImage}\n                newsUrl={article.url}\n                author={article.author}\n                date={article.publishedAt}\n                source={article.source.name}\n              />\n            </div>\n          ))}\n        </div>\n        <div className=\"container d-flex justify-content-between\">\n          <button disabled={this.state.page <= 1} type=\"button\" className=\"btn btn-dark\" onClick={this.HandlePrevClick}>&larr; Previous</button>\n          <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.HandleNextClick}> Next &rarr;</button>\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}