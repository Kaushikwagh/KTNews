{"ast":null,"code":"var _jsxFileName = \"/Users/kaushikwagh/Downloads/VS Code/Code/REACT JS/LEC-D PROJECT2/newsapp/src/components/News.js\";\nimport React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class News extends Component {\n  constructor(props) {\n    super(props);\n    // function for capital first letter\n    this.CapitalizeFirstLetter = string => {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    };\n    // Function for handling previous click\n    this.HandlePrevClick = async () => {\n      console.log(\"Previous\");\n      if (this.state.page > 1) {\n        this.setState({\n          loading: true\n        }); // Set loading to true before making API call\n        let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=51818d35daed4d1e823badfdba2ebd50&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`; //API key\n        let data = await fetch(url);\n        let parsedData = await data.json();\n        console.log(parsedData);\n        this.setState({\n          page: this.state.page - 1,\n          articles: parsedData.articles,\n          loading: false // Set loading to false after data is fetched\n        });\n      }\n    };\n    // Function for handling next click\n    this.HandleNextClick = async () => {\n      console.log(\"Next\");\n      if (this.state.page + 1 <= Math.ceil(this.state.totalResults / this.props.pageSize)) {\n        this.setState({\n          loading: true\n        }); // Set loading to true before making API call\n        let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=51818d35daed4d1e823badfdba2ebd50&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`; //API key\n        let data = await fetch(url);\n        let parsedData = await data.json();\n        console.log(parsedData);\n        this.setState({\n          page: this.state.page + 1,\n          articles: parsedData.articles,\n          loading: false // Set loading to false after data is fetched\n        });\n      }\n    };\n    console.log(\"Hello, I am constructor news\");\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1,\n      totalResults: 0 // Initialize totalResults in the state\n    };\n    document.title = `${this.CapitalizeFirstLetter(this.props.category)} - News`;\n    // adding category in titile\n  }\n\n  // What is async and await?\n  // What is componentDidMount?\n  async componentDidMount() {\n    this.setState({\n      loading: true\n    }); // Set loading to true before making API call\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`; //API key\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    console.log(parsedData);\n    this.setState({\n      articles: parsedData.articles,\n      loading: false,\n      totalResults: parsedData.totalResults\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: [\"News - Top \", this.CapitalizeFirstLetter(this.props.category), \" Headlines\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 32\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: this.state.articles.map((article, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(NewsItem, {\n            title: article.title ? article.title : \"\",\n            description: article.description ? article.description.slice(0, 88) : \"\",\n            imageUrl: article.urlToImage,\n            newsUrl: article.url,\n            author: article.author,\n            date: article.publishedAt,\n            source: article.source.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page <= 1,\n          type: \"button\",\n          className: \"btn btn-dark\",\n          onClick: this.HandlePrevClick,\n          children: \"\\u2190 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize),\n          type: \"button\",\n          className: \"btn btn-dark\",\n          onClick: this.HandleNextClick,\n          children: \" Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n}\nNews.defaultProps = {\n  name: 'in',\n  pageSize: 8,\n  category: 'general'\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string\n};","map":{"version":3,"names":["React","Component","NewsItem","Spinner","PropTypes","jsxDEV","_jsxDEV","News","constructor","props","CapitalizeFirstLetter","string","charAt","toUpperCase","slice","HandlePrevClick","console","log","state","page","setState","loading","url","country","category","pageSize","data","fetch","parsedData","json","articles","HandleNextClick","Math","ceil","totalResults","document","title","componentDidMount","apiKey","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","article","index","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","disabled","type","onClick","defaultProps","propTypes","number"],"sources":["/Users/kaushikwagh/Downloads/VS Code/Code/REACT JS/LEC-D PROJECT2/newsapp/src/components/News.js"],"sourcesContent":["import React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types'\n\n\nexport default class News extends Component {\n  static defaultProps = {\n    name: 'in',\n    pageSize: 8,\n    category: 'general',\n  }\n\n  static propTypes = {\n    country: PropTypes.string,\n    pageSize: PropTypes.number,\n    category: PropTypes.string,\n  }\n\n  // function for capital first letter\n  CapitalizeFirstLetter = (string)=>{\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  constructor(props) {\n    super(props);\n    console.log(\"Hello, I am constructor news\");\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1,\n      totalResults: 0 // Initialize totalResults in the state\n    };\n    document.title = `${this.CapitalizeFirstLetter(this.props.category)} - News`;\n // adding category in titile\n  }\n  \n  // What is async and await?\n  // What is componentDidMount?\n  async componentDidMount() {\n    this.setState({ loading: true }); // Set loading to true before making API call\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=1&pageSize=${this.props.pageSize}`; //API key\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    console.log(parsedData);\n    this.setState({ articles: parsedData.articles, loading: false, totalResults: parsedData.totalResults });\n  }\n\n  // Function for handling previous click\n  HandlePrevClick = async () => {\n    console.log(\"Previous\");\n    if (this.state.page > 1) {\n      this.setState({ loading: true }); // Set loading to true before making API call\n      let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=51818d35daed4d1e823badfdba2ebd50&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`; //API key\n      let data = await fetch(url);\n      let parsedData = await data.json();\n      console.log(parsedData);\n      this.setState({\n        page: this.state.page - 1, \n        articles: parsedData.articles,\n        loading: false // Set loading to false after data is fetched\n      });\n    }\n  }\n\n  // Function for handling next click\n  HandleNextClick = async () => {\n    console.log(\"Next\");\n    if (this.state.page + 1 <= Math.ceil(this.state.totalResults / this.props.pageSize)) {\n      this.setState({ loading: true }); // Set loading to true before making API call\n      let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=51818d35daed4d1e823badfdba2ebd50&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`; //API key\n      let data = await fetch(url);\n      let parsedData = await data.json();\n      console.log(parsedData);\n      this.setState({\n        page: this.state.page + 1,\n        articles: parsedData.articles,\n        loading: false // Set loading to false after data is fetched\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container my-3\">\n        <h2 className='text-center'>News - Top {this.CapitalizeFirstLetter(this.props.category)} Headlines</h2>\n        {this.state.loading && <Spinner />} {/* Show spinner when loading is true */}\n        <div className=\"row\">\n          {this.state.articles.map((article, index) => (\n            <div className=\"col-md-4\" key={index}>\n              <NewsItem\n                title={article.title ? article.title : \"\"}\n                description={article.description ? article.description.slice(0, 88) : \"\"}\n                imageUrl={article.urlToImage}\n                newsUrl={article.url}\n                author={article.author}\n                date={article.publishedAt}\n                source={article.source.name}\n              />\n            </div>\n          ))}\n        </div>\n        <div className=\"container d-flex justify-content-between\">\n          <button disabled={this.state.page <= 1} type=\"button\" className=\"btn btn-dark\" onClick={this.HandlePrevClick}>&larr; Previous</button>\n          <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.HandleNextClick}> Next &rarr;</button>\n        </div>\n      </div>\n    );\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}